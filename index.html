<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 5</title>

    <link rel="stylesheet" href="css.css">

    <script>
        var whitePieces, blackPieces;
        whitePieces = {
            piece1: {
                "piece": "King",
                "position": "e1"
            },
            pieces: {
                "piece": "Queen",
                "position": "d1"
            },
            piece3: {
                "piece": "Rook",
                "position": "a1"
            },
            piece4: {
                "piece": "Rook",
                "position": "h1"
            },
            piece5: {
                "piece": "Knight",
                "position": "b1"
            },
            piece6: {
                "piece": "Knight",
                "position": "g1"
            },
            piece7: {
                "piece": "Bishop",
                "position": "c1"
            },
            piece8: {
                "piece": "Bishop",
                "position": "f1"
            },
            piece9: {
                "piece": "Pawn",
                "position": "a2"
            },
            piece10: {
                "piece": "Pawn",
                "position": "b2"
            },
            piece11: {
                "piece": "Pawn",
                "position": "c2"
            },
            piece12: {
                "piece": "Pawn",
                "position": "d2"
            },
            piece13: {
                "piece": "Pawn",
                "position": "e2"
            },
            piece14: {
                "piece": "Pawn",
                "position": "f2"
            },
            piece15: {
                "piece": "Pawn",
                "position": "g2"
            },
            piece16: {
                "piece": "Pawn",
                "position": "h2"
            }
        };
        blackPieces = {
            piece1: {
                "piece": "King",
                "position": "e8"
            },
            pieces: {
                "piece": "Queen",
                "position": "d8"
            },
            piece3: {
                "piece": "Rook",
                "position": "a8"
            },
            piece4: {
                "piece": "Rook",
                "position": "h8"
            },
            piece5: {
                "piece": "Knight",
                "position": "b8"
            },
            piece6: {
                "piece": "Knight",
                "position": "g8"
            },
            piece7: {
                "piece": "Bishop",
                "position": "c8"
            },
            piece8: {
                "piece": "Bishop",
                "position": "f8"
            },
            piece9: {
                "piece": "Pawn",
                "position": "a7"
            },
            piece10: {
                "piece": "Pawn",
                "position": "b7"
            },
            piece11: {
                "piece": "Pawn",
                "position": "c7"
            },
            piece12: {
                "piece": "Pawn",
                "position": "d7"
            },
            piece13: {
                "piece": "Pawn",
                "position": "e7"
            },
            piece14: {
                "piece": "Pawn",
                "position": "f7"
            },
            piece15: {
                "piece": "Pawn",
                "position": "g7"
            },
            piece16: {
                "piece": "Pawn",
                "position": "h7"
            }
        };

        function designation(piece, t) {
            var pieces = [];
            pieces["King"] = ['Кр', '&#9812;'];
            pieces["Queen"] = ['Ф', '&#9813;'];
            pieces["Rook"] = ['Л', '&#9814;'];
            pieces["Knight"] = ['К', '&#9816;'];
            pieces["Bishop"] = ['С', '&#9815;'];
            pieces["Pawn"] = ['П', '&#9817;'];

            return pieces[piece][t];
        }


        function shessBoard() {
            ///tmp
            document.getElementById("output").innerHTML = "";
            ///tmp

            var table = document.createElement("table");
            var tr, td;
            var wh = 1;
            var letter = " abcdefgh ";
            for (var i = 0; i < 10; i++) {
                tr = document.createElement("tr");
                table.append(tr);
                for (var j = 0; j < 10; j++) {
                    td = document.createElement("td");
                    if (i == 0 || i == 9) {
                        td.innerText = letter.charAt(j);
                        td.setAttribute("class", "border");
                        if (i==0){
                            td.classList.add("class", "rotate");
                        }
                    }
                    else if (j == 0 || j == 9) {
                        td.innerText = 9 - i;
                        td.setAttribute("class", "border");
                        if (j==9){
                            td.classList.add("class", "rotate");
                        }
                    }
                    else {
                        if (wh) {
                            td.innerText = "";
                            td.setAttribute("class", "wh");
                            wh = 0;
                        }
                        else {
                            td.innerText = "";
                            td.setAttribute("class", "bl");
                            wh = 1;
                        }
                        if (j == 8) {
                            wh = 1 - wh;
                        }
                        td.setAttribute("id", letter.charAt(j) + (9 - i));
                    }
                    tr.append(td);
                }
            }
            document.getElementById("output").appendChild(table);
        }

        function arrangement(pieses, color, t) {
            keys = Object.keys(pieses);
            for (var key of keys) {
                document.getElementById(pieses[key]["position"]).innerHTML = "<span class='" + color + "'>" + designation(pieses[key]["piece"], t) + "</span>";
            }
        }

        function task_1() {
            shessBoard();
        }

        function task_2() {
            shessBoard();
            arrangement(whitePieces, "white", 0);
            arrangement(blackPieces, "black", 0);

        }

        function task_3() {
            shessBoard();
            arrangement(whitePieces, "white", 1);
            arrangement(blackPieces, "black", 1);
        }

    </script>

</head>

<body>

    <h2><a href="#" onclick="task_1();">Задание №1</a></h2>
    <h2><a href="#" onclick="task_2();">Задание №2</a></h2>
    <h2><a href="#" onclick="task_3();">Задание №3</a></h2>
    <div id="output"></div>



</body>

</html>