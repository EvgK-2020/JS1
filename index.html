<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 4</title>

    <script>
        function numberToObject(q) {
            var obj = {};
            var mas;
            if (isNaN(q) || q > 999 || q < 0) {
                console.log(q + ' Введенное значение не находится в диапазоне от 0 до 999');
                return obj;
            }
            else {
                q = "00" + q;
                obj.unit = q.slice(-1);
                obj.decades = q.slice(-2, -1);
                obj.hundreds = q.slice(-3, -2);
                return obj;
            }
        }

        function task_1() {
            var q = prompt("Введите число от 0 до 999", 0);
            var msg = numberToObject(q);
            alert("Вы ввели: " + q + "\nЕдиницы: " + msg.unit + ", Десятки: " + msg.decades + ", Сотни: " + msg.hundreds);
        }


        function task_2() {
            var descr = [];
            var select = [];
            var target = [];
            var answerMas = [];
            var answer;
            var exit = 0;
            var i = 0;

            descr[0] = "Вы живёте в тихой и уютной деревеньке на окрайне страны.\nЗдесь есть практчески всё: речка, лес, горы, озеро, луга и поля, есть даже школа в соседнем селе.\nСейчас начало лета, воскресенье, раннее утро, Вы просыпаетесь и собираетесь ...\n";
            select[0] = "1 - Поспать до обеда\n2 - Пойти прогуляться\n";
            target[0] = [1, 2];

            descr[1] = "Вы решили поспать до обеда.\nПосле того как Вы проснулись первое, что вы ощутили, это приятный запах, который шёл с кухни.\nПосле Вы замечаете, какая за окном прекрасная погода, и Вы думаете ...\n";
            select[1] = "1- Пойти прогуляться\n2 - Пойти пообедать\n";
            target[1] = [3, 4];

            descr[2] = "Вы решили пойти прогуляться.\nВы выходите из своего дома и видите прекрасный рассвет, блики солнца так и играют на озёрной глади.\nВы решаете дойти до озера, полюбоваться его красотойю\nС одной стороны тропинки Вы видите пшеничное поле, за которым веднеется лес.\nС другой стороны течёт речка, а в далеке виднеются горы.\nВы наслаждаетесь пейзажами и не замечаете как летит время.\nДомой Вы приходите только к обеду, но до обеда ещё есть время и Вы решаете ...\n";
            select[2] = "1 - Подождать обед в столовой\n2 - Поколоть дрова перед обедом\n";
            target[2] = [5, 6];

            descr[3] = "Пошли гулять ...\n";
            select[3] = "1 - Во дворе\n2 - В лес\n3 - На озере\n";
            target[3] = [7, 8, 9];

            descr[4] = "Пошли обедать ...\n";
            select[4] = "1 - Подождать обед в столовой\n2 - Поколоть дрова перед обедом\n";
            target[4] = [5, 6];

            descr[5] = "Подождать обед в столовой ...\n";
            select[5] = "1 - продолжение следует...\n";
            target[5] = [10];

            descr[6] = "Поколоть дрова ...\n";
            select[6] = "1 - продолжение следует...\n";
            target[6] = [10];

            descr[7] = "Гулять во дворе ...\n";
            select[7] = "1 - продолжение следует...\n";
            target[7] = [10];

            descr[8] = "Гулять в лесу ...\n";
            select[8] = "1 - продолжение следует...\n";
            target[8] = [10];

            descr[9] = "Гулять на озеро ...\n";
            select[9] = "1 - продолжение следует...\n";
            target[9] = [10];

            descr[10] = "продолжение следует...\n";
            select[10] = "n - введите номер хода для просмотра\n";
            target[10] = [];


            do {
                answer = +prompt(descr[i] + "\n" + select[i] + "\nВыход из игры: -1");
                if (answer == -1) {
                    break;
                }
                if (isNaN(answer)) {
                    alert('Вы ввели недопустимый символ');
                }
                else {
                    if (i < descr.length - 1) {
                        if (answer > 0 && answer <= target[i].length) {
                            answerMas.push(answer);
                            i = target[i][answer - 1];
                        }
                        else {
                            alert("Значение не входит в диапазон ответов");
                        }
                    }
                    else {
                        if (answer > 0 && answer <= answerMas.length) {
                            alert("На " + answer + " ходу был выбран вариант: " + answerMas[answer - 1]);
                        }
                        else {
                            alert("Значение не входит в диапазон ответов");
                        }
                    }
                }
            } while (!exit);
        }

    </script>

</head>

<body>
    <h2><a href="#" onclick="task_1();">Задание №1</a></h2>
    <h2><a href="#" onclick="task_2();">Задание №2</a></h2>
</body>

</html>